(this["webpackJsonpreact-sneakers"]=this["webpackJsonpreact-sneakers"]||[]).push([[0],{14:function(e,t,r){e.exports={card:"Card_card__2qDZV",favorite:"Card_favorite__NLrm1",card_Bottom:"Card_card_Bottom__ei1N3",card_Bottom_price:"Card_card_Bottom_price__DbjNV",plus:"Card_plus__39dNN"}},20:function(e,t,r){e.exports={headerLeft:"Header_headerLeft__3j8qm",headerRight:"Header_headerRight__276zj",imgLogo:"Header_imgLogo__1rLxx"}},3:function(e,t,r){e.exports={overlay:"Drawer_overlay__vq8B4",drawer:"Drawer_drawer__3baoZ",cartItem:"Drawer_cartItem__2-waQ",cartImage:"Drawer_cartImage__3_5tT",btn_remove:"Drawer_btn_remove__1wwr9",cartTotalBlock:"Drawer_cartTotalBlock__KiCZQ",items:"Drawer_items__xvLfy",btn_order:"Drawer_btn_order__2widv",cart:"Drawer_cart__2pAv8",main:"Drawer_main__2kGhJ",infoWrapper:"Drawer_infoWrapper__6cHRI",infoBlock:"Drawer_infoBlock__3NCU4",arrow:"Drawer_arrow__Qm3bC"}},42:function(e,t,r){},70:function(e,t,r){"use strict";r.r(t);var c=r(1),a=r.n(c),n=r(34),i=r.n(n),s=r(12),o=r(19),d=r(6),j=r.n(d),l=r(13),b=r(10),u=(r(42),r(20)),m=r.n(u),h=r(0),x=function(e){var t=e.onClickCart,r=Object(c.useContext)(A).cartItems.reduce((function(e,t){return t.price+e}),0);return Object(h.jsxs)("header",{children:[Object(h.jsx)(s.b,{to:"",children:Object(h.jsxs)("div",{className:m.a.headerLeft,children:[Object(h.jsx)("img",{className:m.a.imgLogo,alt:"imgLogo",src:"img/logo.png"}),Object(h.jsxs)("div",{className:m.a.headerInfo,children:[Object(h.jsx)("h3",{children:"React-Sneakers"}),Object(h.jsx)("p",{children:"\u041c\u0430\u0433\u0430\u0437\u0438\u043d \u043b\u0443\u0447\u0448\u0438\u0445 \u043a\u0440\u043e\u0441\u0441\u043e\u0432\u043e\u043a"})]})]})}),Object(h.jsxs)("ul",{className:m.a.headerRight,children:[Object(h.jsxs)("li",{onClick:t,children:[Object(h.jsx)("img",{src:"img/cart.svg",alt:"cart"}),Object(h.jsxs)("span",{children:[r," \u0440\u0443\u0431."]})]}),Object(h.jsx)("li",{children:Object(h.jsx)(s.b,{to:"favorites",children:Object(h.jsx)("img",{src:"img/heart.svg",alt:"heart"})})}),Object(h.jsx)("li",{children:Object(h.jsx)(s.b,{to:"orders",children:Object(h.jsx)("img",{src:"img/user.png",alt:"user"})})})]})]})},O=r(9),f=r.n(O),g=r(3),p=r.n(g),v=function(e){var t=e.imgWidth,r=e.imgHeight,c=e.title,a=e.description,n=e.onClose,i=e.image;return Object(h.jsxs)("div",{className:p.a.infoBlock,children:[Object(h.jsx)("img",{alt:"info",src:i,width:t,height:r}),Object(h.jsx)("h2",{children:c}),Object(h.jsx)("p",{children:a}),Object(h.jsxs)("button",{onClick:n,children:[Object(h.jsx)("img",{alt:"Arrow",src:"img/arrow_left.svg",className:p.a.arrow}),"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430\u0437\u0430\u0434"]})]})},_=function(e){var t=e.onClose,r=e.items,a=void 0===r?[]:r,n=e.onRemove,i=e.setCartItems,s=Object(c.useContext)(A).cartItems,o=Object(c.useState)(null),d=Object(b.a)(o,2),u=d[0],m=d[1],x=Object(c.useState)(!1),O=Object(b.a)(x,2),g=O[0],_=O[1],k=a.reduce((function(e,t){return t.price+e}),0),w=Math.round(.05*k),C=k-w,N=function(){var e=Object(l.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post("https://60f2d6c76d44f300177887b8.mockapi.io/orders",{items:s});case 3:t=e.sent,console.log(t.data),m(t.data.id),_(!0),i([]),s.forEach((function(e){f.a.delete("https://60f2d6c76d44f300177887b8.mockapi.io/cart/".concat(e.id))})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437 :(");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{className:p.a.overlay,children:Object(h.jsxs)("div",{className:p.a.drawer,children:[Object(h.jsxs)("h2",{className:p.a.cart,children:["\u041a\u043e\u0440\u0437\u0438\u043d\u0430 ",Object(h.jsx)("img",{alt:"Close",src:"img/btn_remove.svg",onClick:t})]}),0!==a.length?Object(h.jsxs)("div",{className:p.a.main,children:[Object(h.jsx)("div",{className:p.a.items,children:a.map((function(e){return Object(h.jsxs)("div",{className:p.a.cartItem,children:[Object(h.jsx)("img",{className:p.a.cartImage,alt:"sneakers",src:e.imgUrl}),Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{children:e.title}),Object(h.jsxs)("b",{children:[e.price," \u0440\u0443\u0431."]})]}),Object(h.jsx)("img",{src:"img/btn_remove.svg",alt:"Remove",className:p.a.btn_remove,onClick:function(){return n(e.id)}})]},e.id)}))}),Object(h.jsxs)("ul",{className:p.a.cartTotalBlock,children:[Object(h.jsxs)("li",{children:[Object(h.jsx)("span",{children:"\u0418\u0442\u043e\u0433\u043e:"}),Object(h.jsx)("div",{}),Object(h.jsxs)("b",{children:[" ",C," \u0440\u0443\u0431."]})]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("span",{children:"\u0421\u043a\u0438\u0434\u043a\u0430 5%:"}),Object(h.jsx)("div",{}),Object(h.jsxs)("b",{children:[w," \u0440\u0443\u0431."]})]}),Object(h.jsxs)("button",{onClick:N,className:p.a.btn_order,children:["\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437",Object(h.jsx)("img",{src:"img/arrow_right.svg",alt:"Arrow",className:p.a.orderArrow})]})]})]}):g?Object(h.jsx)(v,{imgWidth:83,imgHeight:120,title:"\u0417\u0430\u043a\u0430\u0437 \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d!",description:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 #".concat(u," \u0441\u043a\u043e\u0440\u043e \u0431\u0443\u0434\u0435\u0442 \u043f\u0435\u0440\u0435\u0434\u0430\u043d \u043a\u0443\u0440\u044c\u0435\u0440\u0441\u043a\u043e\u0439 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0435"),onClose:t,image:"img/order_success.svg"}):Object(h.jsx)(v,{imgWidth:120,imgHeight:120,title:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430\u044f",description:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u0443 \u043f\u0430\u0440\u0443 \u043a\u0440\u043e\u0441\u0441\u043e\u0432\u043e\u043a, \u0447\u0442\u043e\u0431\u044b \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437.",onClose:t,image:"img/empty_box.svg"})]})})},k=r(2),w=r(16),C=r(14),N=r.n(C),I=function(e){e.id;var t=e.itemId,r=e.price,a=e.title,n=e.imgUrl,i=e.onFavorite,s=e.onPlus,o=Object(c.useContext)(A),d=o.isItemAdded,j=o.isItemFavorite;return console.log(j(t)),Object(h.jsxs)("div",{className:N.a.card,children:[Object(h.jsx)("img",{src:j(t)?"img/liked.svg":"img/unliked.svg",alt:"Heart Unliked",className:N.a.favorite,onClick:function(){i({price:r,title:a,imgUrl:n,itemId:t})}}),Object(h.jsx)("img",{width:133,height:112,alt:"Sneakers",src:n}),Object(h.jsx)("p",{children:a}),Object(h.jsxs)("div",{className:N.a.card_Bottom,children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{className:N.a.card_Bottom_price,children:"\u0426\u0415\u041d\u0410:"}),Object(h.jsxs)("b",{children:[r," \u0440\u0443\u0431."]})]}),Object(h.jsx)("div",{children:Object(h.jsx)("img",{onClick:function(){s({price:r,title:a,imgUrl:n,itemId:t})},width:32,height:32,src:d(t)?"img/btn_checked.svg":"img/plus.svg",alt:"add item",className:N.a.plus})})]})]})},y=r(36),S=function(){return Object(h.jsx)("div",{className:N.a.card,children:Object(h.jsxs)(y.a,{speed:2,width:150,height:187,viewBox:"0 0 150 187",backgroundColor:"#f2f2f2",foregroundColor:"#ecebeb",children:[Object(h.jsx)("rect",{x:"534",y:"113",rx:"0",ry:"0",width:"88",height:"71"}),Object(h.jsx)("rect",{x:"0",y:"0",rx:"10",ry:"10",width:"150",height:"90"}),Object(h.jsx)("rect",{x:"0",y:"105",rx:"3",ry:"3",width:"150",height:"15"}),Object(h.jsx)("rect",{x:"0",y:"125",rx:"3",ry:"3",width:"90",height:"15"}),Object(h.jsx)("rect",{x:"0",y:"155",rx:"8",ry:"8",width:"80",height:"25"}),Object(h.jsx)("rect",{x:"118",y:"150",rx:"8",ry:"8",width:"32",height:"32"})]})})},D=function(e){var t=e.searchValue,r=e.items,c=e.onAddToFavorites,a=e.onAddToCart,n=e.setSearchValue,i=e.onChangeSearchInput,s=(e.cartItems,e.isLoading);return Object(h.jsxs)("div",{className:"content",children:[Object(h.jsxs)("div",{className:"search-wrapper",children:[Object(h.jsx)("div",{children:Object(h.jsx)("h1",{id:"content-title",children:t?'\u041f\u043e\u0438\u0441\u043a \u043f\u043e "'.concat(t,'":'):"\u0412\u0441\u0435 \u043a\u0440\u043e\u0441\u0441\u043e\u0432\u043a\u0438"})}),Object(h.jsxs)("div",{className:"search-block",children:[Object(h.jsx)("img",{alt:"Search",src:"img/search.svg"}),t&&Object(h.jsx)("img",{alt:"Delete",src:"img/btn_remove.svg",className:"clearSearch",onClick:function(){return n("")}}),Object(h.jsx)("input",{placeholder:"\u041f\u043e\u0438\u0441\u043a...",onChange:i,value:t})]})]}),Object(h.jsx)("div",{className:"sneakers",children:s?Object(o.a)(Array(10)).map((function(e,t){return Object(h.jsx)(S,{},t)})):r.filter((function(e){return e.title.toLowerCase().includes(t.toLowerCase())})).map((function(e){return Object(h.jsx)(I,Object(w.a)({onFavorite:function(e){c(e)},onPlus:function(e){return a(e)}},e),e.itemId)}))})]})},B=function(e){var t=e.onFavorite,r=Object(c.useContext)(A).favorites;return Object(h.jsx)("div",{className:"content",children:r.length?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{children:"\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0438"}),Object(h.jsx)("div",{className:"sneakers",children:r.map((function(e){return Object(h.jsx)(I,Object(w.a)({favorited:!0,onFavorite:t},e),e.id)}))})]}):Object(h.jsx)("div",{className:p.a.infoWrapper,children:Object(h.jsx)(v,{imgWidth:70,imgHeight:70,title:"\u0417\u0430\u043a\u043b\u0430\u0434\u043e\u043a \u043d\u0435\u0442 :(",description:"\u0412\u044b \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u043b\u0438 \u0432 \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0438",image:"img/emoji_no_favorites.jpg",onClose:function(){return Object(h.jsx)(k.a,{to:"/"})}})})})},L=function(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),r=t[0],a=t[1];return Object(c.useEffect)((function(){Object(l.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("https://60f2d6c76d44f300177887b8.mockapi.io/orders");case 2:t=e.sent,console.log(t),a(t.data);case 6:case"end":return e.stop()}}),e)})))()}),[]),console.log(r),Object(h.jsx)("div",{className:"content",children:r.length?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{children:"\u041c\u043e\u0438 \u043f\u043e\u043a\u0443\u043f\u043a\u0438"}),r.map((function(e){var t=e.items.map((function(e){return Object(h.jsx)(I,Object(w.a)({},e),e.id)}));return Object(h.jsxs)("div",{children:[Object(h.jsxs)("h3",{children:["\u0417\u0430\u043a\u0430\u0437 #",e.id]}),Object(h.jsx)("div",{className:"sneakers",children:t}),Object(h.jsx)("hr",{})]})}))]}):Object(h.jsx)("div",{className:p.a.infoWrapper,children:Object(h.jsx)(v,{imgWidth:70,imgHeight:70,title:"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0437\u0430\u043a\u0430\u0437\u043e\u0432",description:"\u0412\u044b \u0435\u0449\u0435 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043f\u043e\u043a\u0443\u043f\u0430\u043b\u0438",image:"img/emoji_no_orders.jpg",onClose:function(){k.a}})})})},A=Object(c.createContext)([]);var F=function(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),r=t[0],a=t[1],n=Object(c.useState)([]),i=Object(b.a)(n,2),s=i[0],d=i[1],u=Object(c.useState)(!1),m=Object(b.a)(u,2),O=m[0],g=m[1],p=Object(c.useState)([]),v=Object(b.a)(p,2),w=v[0],C=v[1],N=Object(c.useState)(""),I=Object(b.a)(N,2),y=I[0],S=I[1],F=Object(c.useState)(!0),H=Object(b.a)(F,2),W=H[0],R=H[1],T=function(e){S(e.target.value)};Object(c.useEffect)((function(){(function(){var e=Object(l.a)(j.a.mark((function e(){var t,r,c,n,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([f.a.get("https://60f2d6c76d44f300177887b8.mockapi.io/cart"),f.a.get("https://60f2d6c76d44f300177887b8.mockapi.io/favorites"),f.a.get("https://60f2d6c76d44f300177887b8.mockapi.io/items")]);case 3:t=e.sent,r=Object(b.a)(t,3),c=r[0],n=r[1],i=r[2],R(!1),d(c.data),C(n.data),a(i.data),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0440\u043e\u0441\u0435 \u0434\u0430\u043d\u043d\u044b\u0445");case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var U=function(){var e=Object(l.a)(j.a.mark((function e(t){var r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!s.find((function(e){return e.itemId===t.itemId}))){e.next=6;break}r=s.find((function(e){return e.itemId===t.itemId})),V(r.id),e.next=10;break;case 6:return e.next=8,f.a.post("https://60f2d6c76d44f300177887b8.mockapi.io/cart",t);case 8:c=e.sent,d((function(e){return[].concat(Object(o.a)(e),[c.data])}));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443");case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),V=function(e){f.a.delete("https://60f2d6c76d44f300177887b8.mockapi.io/cart/".concat(e)),d((function(t){return t.filter((function(t){return t.id!==e}))}))},E=function(){var e=Object(l.a)(j.a.mark((function e(t){var r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=1,!w.find((function(e){return e.itemId===t.itemId}))){e.next=7;break}r=w.find((function(e){return e.itemId===t.itemId})),P(r.id),e.next=11;break;case 7:return e.next=9,f.a.post("https://60f2d6c76d44f300177887b8.mockapi.io/favorites",t);case 9:c=e.sent,C((function(e){return[].concat(Object(o.a)(e),[c.data])}));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0444\u0430\u0432\u043e\u0440\u0438\u0442\u044b");case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),P=function(e){f.a.delete("https://60f2d6c76d44f300177887b8.mockapi.io/favorites/".concat(e)),C((function(t){return t.filter((function(t){return t.id!==e}))}))};return Object(h.jsx)(A.Provider,{value:{items:r,cartItems:s,favorites:w,isItemAdded:function(e){return s.some((function(t){return t.itemId===e}))},isItemFavorite:function(e){return w.some((function(t){return t.itemId===e}))}},children:Object(h.jsxs)("div",{className:"wrapper",children:[O&&Object(h.jsx)(_,{onClose:function(){g(!1)},items:s,onRemove:function(e){return V(e)},setCartItems:d}),Object(h.jsx)(x,{onClickCart:function(){g(!0)}}),Object(h.jsxs)(k.d,{children:[Object(h.jsx)(k.b,{path:"online-store/favorites",render:function(){return Object(h.jsx)(B,{onFavorite:E})}}),Object(h.jsx)(k.b,{path:"online-store/orders",render:function(){return Object(h.jsx)(L,{})}}),Object(h.jsx)(k.b,{exact:!0,path:"online-store/",render:function(){return Object(h.jsx)(D,{searchValue:y,items:r,onAddToFavorites:E,onAddToCart:U,setSearchValue:S,onChangeSearchInput:T,cartItems:s,isLoading:W})}})]})]})})};i.a.render(Object(h.jsx)(s.a,{children:Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(F,{})})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.1283f133.chunk.js.map